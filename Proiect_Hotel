#include <iostream>
#include <cstring>
using namespace std;

// ========================= CLASA CAMERA =========================
class Camera {
private:
    int numar;
    float pretNoapte;
    char* tip;
    const int etaj;
    static int totalCamere;

public:
    // Constructori
    Camera() : etaj(1) {
        numar = 0;
        pretNoapte = 0;
        tip = new char[strlen("Standard") + 1];
        strcpy(tip, "Standard");
        totalCamere++;
    }

    Camera(int n, float p, const char* t, int e) : etaj(e) {
        numar = n;
        pretNoapte = p;
        tip = new char[strlen(t) + 1];
        strcpy(tip, t);
        totalCamere++;
    }

    Camera(const Camera& c) : etaj(c.etaj) {
        numar = c.numar;
        pretNoapte = c.pretNoapte;
        tip = new char[strlen(c.tip) + 1];
        strcpy(tip, c.tip);
    }

    ~Camera() {
        delete[] tip;
    }

    // Getteri și setteri
    int getNumar() const { return numar; }
    float getPret() const { return pretNoapte; }
    const char* getTip() const { return tip; }
    int getEtaj() const { return etaj; }

    void setNumar(int n) { numar = n; }
    void setPret(float p) { pretNoapte = p; }
    void setTip(const char* t) {
        delete[] tip;
        tip = new char[strlen(t) + 1];
        strcpy(tip, t);
    }

    // Funcție statică pentru atribut static
    static int getTotalCamere() { return totalCamere; }

    void afisare() const {
        cout << "Camera " << numar << ", tip: " << tip << ", pret: "
             << pretNoapte << " lei/noapte, etaj: " << etaj << endl;
    }

    // Declarăm funcțiile prietene
    friend void afisarePretSiVarsta(Camera c, class Personal p);
    friend float calculValoareTotala(Camera c, class Rezervare r);
};
int Camera::totalCamere = 0;


// ========================= CLASA PERSONAL =========================
class Personal {
private:
    char* nume;
    int varsta;
    const char functie[20];
    static int totalPersonal;

public:
    // Constructori
    Personal() : functie("Necunoscut") {
        nume = new char[strlen("Anonim") + 1];
        strcpy(nume, "Anonim");
        varsta = 0;
        totalPersonal++;
    }

    Personal(const char* n, int v, const char* f) : functie("") {
        nume = new char[strlen(n) + 1];
        strcpy(nume, n);
        varsta = v;
        strcpy((char*)functie, f);
        totalPersonal++;
    }

    Personal(const Personal& p) : functie("") {
        nume = new char[strlen(p.nume) + 1];
        strcpy(nume, p.nume);
        varsta = p.varsta;
        strcpy((char*)functie, p.functie);
    }

    ~Personal() {
        delete[] nume;
    }

    // Getteri și setteri
    const char* getNume() const { return nume; }
    int getVarsta() const { return varsta; }
    const char* getFunctie() const { return functie; }

    void setNume(const char* n) {
        delete[] nume;
        nume = new char[strlen(n) + 1];
        strcpy(nume, n);
    }
    void setVarsta(int v) { varsta = v; }

    // Funcție statică
    static int getTotalPersonal() { return totalPersonal; }

    void afisare() const {
        cout << "Angajat: " << nume << ", varsta: " << varsta
             << ", functie: " << functie << endl;
    }

    // Prietene
    friend void afisarePretSiVarsta(Camera c, Personal p);
};
int Personal::totalPersonal = 0;


// ========================= CLASA REZERVARE =========================
class Rezervare {
private:
    int nrZile;
    char* numeClient;
    const float avans;
    static int totalRezervari;

public:
    // Constructori
    Rezervare() : avans(0) {
        nrZile = 0;
        numeClient = new char[strlen("Anonim") + 1];
        strcpy(numeClient, "Anonim");
        totalRezervari++;
    }

    Rezervare(const char* n, int zile, float a) : avans(a) {
        numeClient = new char[strlen(n) + 1];
        strcpy(numeClient, n);
        nrZile = zile;
        totalRezervari++;
    }

    Rezervare(const Rezervare& r) : avans(r.avans) {
        nrZile = r.nrZile;
        numeClient = new char[strlen(r.numeClient) + 1];
        strcpy(numeClient, r.numeClient);
    }

    ~Rezervare() {
        delete[] numeClient;
    }

    // Get/set
    int getZile() const { return nrZile; }
    const char* getClient() const { return numeClient; }
    float getAvans() const { return avans; }

    void setZile(int z) { nrZile = z; }
    void setClient(const char* n) {
        delete[] numeClient;
        numeClient = new char[strlen(n) + 1];
        strcpy(numeClient, n);
    }

    // Funcție statică
    static int getTotalRezervari() { return totalRezervari; }

    void afisare() const {
        cout << "Rezervare client " << numeClient << " pentru " << nrZile
             << " zile, avans platit: " << avans << " lei" << endl;
    }

    friend float calculValoareTotala(Camera c, Rezervare r);
};
int Rezervare::totalRezervari = 0;


// ========================= FUNCȚII GLOBALE PRIETENE =========================

//Afișează prețul camerei și vârsta angajatului (folosește Camera și Personal)
void afisarePretSiVarsta(Camera c, Personal p) {
    cout << "\n[Prietena] Camera " << c.getNumar() << " are pretul "
         << c.getPret() << " lei/noapte." << endl;
    cout << "Angajatul " << p.getNume() << " are varsta de " << p.getVarsta() << " ani.\n";
}

//Calculează valoarea totală a unei rezervări în funcție de prețul camerei
float calculValoareTotala(Camera c, Rezervare r) {
    float total = c.getPret() * r.getZile() - r.getAvans();
    cout << "\n[Prietena] Valoarea totală de plată pentru " << r.getClient()
         << " este: " << total << " lei.\n";
    return total;
}


// ========================= FUNCTIA MAIN =========================
int main() {

    Camera c1;
    Camera c2(101, 250.5, "Deluxe", 3);
    Camera c3 = c2;

    Personal p1;
    Personal p2("Miruna", 22, "Receptioner");
    Personal p3 = p2;

    Rezervare r1;
    Rezervare r2("Delia", 5, 100);
    Rezervare r3 = r2;

    c1.afisare();
    c2.afisare();
    p2.afisare();
    r2.afisare();

    // Apelăm funcțiile prietene
    afisarePretSiVarsta(c2, p2);
    calculValoareTotala(c2, r2);

    cout << "\nTotal camere: " << Camera::getTotalCamere() << endl;
    cout << "Total personal: " << Personal::getTotalPersonal() << endl;
    cout << "Total rezervari: " << Rezervare::getTotalRezervari() << endl;

    return 0;
}
